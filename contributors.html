<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta
			name="description"
			content="DevBlog is the website dedicated only for true developers."
		/>
		<meta name="keywords" content="DevBlog, Blogs for Developer" />
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
			rel="stylesheet"
		/>
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css"
		/>

		<link rel="icon" type="image/x-icon" href="assets/img/blog.png" />
		<title>DevBlog - Blog for Developers</title>
		<link rel="stylesheet" href="assets/css/style.css" id="theme-sheet" />
	</head>
	<script>
		fetch("templates/footer.html")
			.then((response) => response.text())
			.then((data) => {
				document.getElementById("footer-placeholder").innerHTML = data;
			});
	</script>

	<body>
		<!-- Navbar -->
		<nav
			class="font2 navbar navbar-expand-lg navbar-light shadow-sm bg-light fixed-top"
		>
			<div class="container">
				<a class="navbar-brand d-flex align-items-center" href="index.html">
					<span class="ml-3 font-weight-bold font2">DevBlog</span>
				</a>
				<button
					class="navbar-toggler navbar-toggler-right border-1"
					type="button"
					data-bs-toggle="collapse"
					data-bs-target="#navbar4"
					aria-controls="navbarSupportedContent"
					aria-expanded="false"
					aria-label="Toggle navigation"
				>
					<span class="navbar-toggler-icon"></span>
				</button>

				<div class="collapse navbar-collapse" id="navbar4">
					<ul class="navbar-nav mx-auto pl-lg-4">
						<li class="nav-item px-lg-2">
							<a class="nav-link" href="index.html"
								><span class="d-inline-block d-lg-none icon-width pe-1"
									><i class="fa-solid fa-house"></i></span
								>Home</a
							>
						</li>
						<li class="nav-item px-lg-2">
							<a class="nav-link" href="about.html"
								><span class="d-inline-block d-lg-none icon-width pe-1"
									><i class="fa-solid fa-user"></i></span
								>About</a
							>
						</li>

						<li class="nav-item px-lg-2">
							<a class="nav-link" href="contact.html"
								><span class="d-inline-block d-lg-none icon-width pe-1"
									><i class="fa-solid fa-envelope"></i></span
								>Contact</a
							>
						</li>

						<li class="nav-item px-lg-2 active">
							<a class="nav-link" href="contributors.html"
								><span class="d-inline-block d-lg-none icon-width pe-1"
									><i class="fa-solid fa-user-group"></i></span
								>Contributors</a
							>
						</li>
					</ul>
					<ul class="navbar-nav ml-auto mt-3 mt-lg-0">
						<button id="themeBtn" onclick="theme()" class="btn-theme">
							<i class="fas fa-sun" id="sun"></i>
							<i class="fas fa-moon" id="moon"></i>
						</button>

						<a class="mx-3 my-1 btn btn-primary" href="AddBlog.html"
							>Add Blog</a
						>
					</ul>
				</div>
			</div>
		</nav>

		<div class="container my-5 pt-5">
			<h2 class="text-center mb-5">Our Contributors</h2>
			<div id="contributors-container" class="row g-4">
				<!-- Contributors will be dynamically loaded here -->
			</div>
		</div>

		<!-- Footer -->
		<div id="footer-placeholder"></div>
	</body>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>

	<script type="module">
		import { Octokit } from "https://cdn.pika.dev/@octokit/core@1.3.2";
		const octokit = new Octokit();
		octokit
			.request("GET /repos/:owner/:repo/contributors", {
				owner: "jineshnagori",
				repo: "DevBlog",
			})
			.then(
				(response) =>
					(document.getElementById("contributors-container").innerHTML =
						response.data
							.map(
								(user) => `
              <div class="col-lg-3 col-md-4 col-sm-6">
                <div class="card h-100 text-center shadow-sm contributor-card">
                  <img src="${user.avatar_url}" class="card-img-top rounded-circle p-3" alt="${user.login}">
                  <div class="card-body">
                    <h5 class="card-title"><a href="${user.html_url}" target="_blank">${user.login}</a></h5>
                    <p class="card-text">Contributions: ${user.contributions}</p>
                  </div>
                </div>
              </div>`
							)
							.join(""))
			);
	</script>
	<script>
		var themeSheet = document.querySelector("#theme-sheet");
		var isDarkModeEnabled = localStorage.getItem("isDarkmodeEnabled");

		function applyTheme() {
			if (isDarkModeEnabled === "true") {
				themeSheet.href = "assets/css/darktheme.css";
			} else {
				themeSheet.href = "assets/css/style.css";
			}
		}

		applyTheme();

		function theme() {
			if (themeSheet.getAttribute("href") == "assets/css/style.css") {
				themeSheet.href = "assets/css/darktheme.css";
				localStorage.setItem("isDarkmodeEnabled", true);
			} else {
				themeSheet.href = "assets/css/style.css";
				localStorage.setItem("isDarkmodeEnabled", false);
			}
		}
	</script>
	<!-- Fontawesome Script -->
	<script
		src="https://kit.fontawesome.com/6d2226036d.js"
		crossorigin="anonymous"
	></script>
</html>
